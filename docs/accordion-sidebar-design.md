# 🎯 アコーディオン式サイドバー設計書
## TestData Buddy - ナビゲーション改善提案

---

## 📋 機能概要

### 🎯 何を解決するか
現在のヘッダーメニューの課題を解決し、将来の機能拡張に対応可能なナビゲーションシステムを構築する。

**現在の課題：**
- ✗ ヘッダーメニューが横に長くなりすぎる（8機能で既に限界）
- ✗ 一部機能がメニューに表示されていない（文字ツール、エクスポート等）
- ✗ モバイル対応が不十分
- ✗ 機能の分類が不明確で探しにくい

**解決される問題：**
- ✅ **拡張性**: 無制限に機能追加可能
- ✅ **使いやすさ**: カテゴリ別整理で直感的
- ✅ **効率性**: よく使う機能への高速アクセス
- ✅ **モバイル対応**: レスポンシブ設計
- ✅ **ユーザビリティ**: 検索機能付き

---

## 🏗️ 機能仕様

### 1. アコーディオンメニュー構造

```
🤖 TestData Buddy
├── 📊 データ生成 ▼
│   ├── 👤 個人情報生成
│   ├── 🔐 パスワード生成
│   ├── 🆔 UUID生成
│   ├── 📅 日付・時刻
│   └── 📈 統計データ（予定）
├── 🛠️ ツール ▼
│   ├── 📝 文字・テキスト系
│   ├── 📤 ファイル出力
│   ├── 🎯 TDデモ
│   └── 🔍 バリデーション（予定）
├── 🧠 AI機能 ▼
│   ├── 💬 AIチャット
│   ├── 🤖 自動生成（予定）
│   └── 📚 学習機能（予定）
├── ⭐ お気に入り
├── 📊 ダッシュボード
└── ⚙️ 設定
```

### 2. インタラクション仕様

**基本動作：**
- カテゴリクリック → アコーディオン展開/収納
- サブメニュークリック → ページ遷移
- ホバー時 → アイコンとテキストのアニメーション

**状態管理：**
- 現在のページに対応するカテゴリは自動展開
- 前回展開していたカテゴリを記憶（localStorage）
- お気に入り機能（使用頻度に基づく自動学習）

### 3. 検索機能

**クイック検索：**
```
[🔍 機能を検索...]
```

**検索対応：**
- 機能名での検索（「パスワード」「個人情報」等）
- カテゴリでの検索（「データ生成」「ツール」等）
- 用途での検索（「テスト」「生成」「出力」等）

---

## 🎨 デザインシステム

### カラーパレット（既存システム準拠）

**メインカラー：**
- `td-primary`: #3B82F6系統（ブルー）
- `td-secondary`: #10B981系統（グリーン）
- `td-accent`: #8B5CF6系統（パープル）

**サイドバー専用カラー：**
```css
.sidebar-bg: bg-white border-r border-td-primary-200
.category-header: text-td-primary-800 bg-td-primary-50
.menu-item: text-td-primary-600 hover:bg-td-primary-100
.active-item: bg-td-primary-500 text-white
```

### レイアウト寸法

```css
/* デスクトップ */
.sidebar-width: 280px
.sidebar-collapsed: 64px（アイコンのみ）

/* タブレット */
.sidebar-width: 240px

/* モバイル */
.sidebar-overlay: 全画面オーバーレイ
```

### アニメーション

**TDキャラクター連動：**
```css
/* アコーディオン展開時 */
.accordion-expand: transform 0.3s ease-out
.td-bounce: TD絵文字が軽くバウンス

/* ホバー効果 */
.menu-hover: td-button効果適用
.icon-wiggle: アイコンが軽く揺れる

/* アクティブ状態 */
.active-glow: 軽いグロー効果
```

---

## 🔧 実装方針

### 1. コンポーネント構成

```typescript
// 新規作成コンポーネント
├── SidebarNavigation/
│   ├── index.tsx              // メインコンポーネント
│   ├── AccordionMenu.tsx      // アコーディオンメニュー
│   ├── MenuItem.tsx           // 個別メニューアイテム
│   ├── SearchBar.tsx          // 検索機能
│   └── FavoritesList.tsx      // お気に入り機能

// 既存修正
├── layout.tsx                 // サイドバー統合
└── globals.css                // スタイル追加
```

### 2. 状態管理

```typescript
interface SidebarState {
  expandedCategories: string[];    // 展開中のカテゴリ
  favorites: string[];             // お気に入り機能
  searchQuery: string;             // 検索クエリ
  isCollapsed: boolean;            // 収納状態
  isMobileOpen: boolean;           // モバイル表示状態
}
```

### 3. レスポンシブ対応

```css
/* デスクトップ: サイドバー固定表示 */
@media (min-width: 1024px) {
  .sidebar: translate-x-0, static
}

/* タブレット: トグル式 */
@media (min-width: 768px) and (max-width: 1023px) {
  .sidebar: transform transition, overlay
}

/* モバイル: ハンバーガーメニュー */
@media (max-width: 767px) {
  .sidebar: fixed overlay, full-screen
  .hamburger-button: display
}
```

---

## 📊 効果測定指標

### ユーザビリティ向上

**定量指標：**
- 機能アクセス時間: 現在3クリック → 目標1-2クリック
- メニュー探索時間: 50%短縮目標
- モバイル利用率: 向上

**定性指標：**
- 機能の発見しやすさ向上
- 作業効率の向上
- TDキャラクターとの親和性向上

### 開発効率向上

**拡張性：**
- 新機能追加: 設定ファイル1行追加のみ
- カテゴリ追加: 最小限のコード修正
- UIの一貫性: デザインシステム準拠

---

## 🚀 段階的実装計画

### Phase 1: 基本構造
- [x] 設計書作成
- [ ] サイドバーコンポーネント作成
- [ ] 既存機能の移行
- [ ] 基本アニメーション実装

### Phase 2: 高度機能
- [ ] 検索機能実装
- [ ] お気に入り機能実装
- [ ] 状態永続化（localStorage）
- [ ] モバイル対応完成

### Phase 3: 体験向上
- [ ] TDキャラクター連動強化
- [ ] 使用状況分析機能
- [ ] パフォーマンス最適化
- [ ] アクセシビリティ対応

---

## 💡 TDからのメッセージ

> 🤖 「新しいサイドバーで、みなさんの作業がもっと効率的になりますね！
> TDも一緒に進化して、より使いやすいパートナーになります。
> 機能が増えても迷わないように、TDがしっかりサポートしますよ♪」

**期待される成果：**
- ⚡ 作業効率 30%向上
- 🎯 機能発見率 50%向上  
- 📱 モバイル利用率 向上
- 😊 ユーザー満足度 向上

---

*この設計書を基に、プロトタイプ実装に進む準備が整いました！* 