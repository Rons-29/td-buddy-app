# 📊 CSV詳細データ生成機能ガイド

## 🎯 概要

CSV詳細データ生成機能は、TestData Buddy（TD）の高度なテストデータ作成ツールです。複数の列を柔軟に設定し、リアルな日本語テストデータを生成できます。

## 🚀 基本的な使い方

### 1. アクセス方法
- メイン画面から「CSV詳細生成」を選択
- または `/csv-detailed` URLに直接アクセス

### 2. 列の追加・設定
```typescript
// 新しい列を追加
1. 「列を追加」ボタンをクリック
2. 列名を入力（例：「氏名」「電話番号」「年齢」）
3. データ型を選択
4. 詳細設定を調整
```

### 3. データ型の種類

#### 📝 テキスト系
- **text (テキスト)**: 日本語/英語のランダムテキスト
- **name (名前)**: 日本人の姓名（姓+名の組み合わせ）
- **email (メール)**: リアルな形式のメールアドレス

#### 📞 連絡先系
- **phone (電話番号)**: 日本の携帯番号形式（090/080/070）

#### 🔢 数値系
- **number (数値)**: 指定範囲内の数値
- **age (年齢)**: 0-120歳の範囲

#### 📅 日付系
- **date (日付)**: 2020-2025年の範囲

### 4. プリセット機能

#### 利用可能なプリセット
```typescript
const presets = [
  {
    name: "社員名簿",
    columns: [
      { name: "社員番号", type: "number", min: 1000, max: 9999 },
      { name: "氏名", type: "name" },
      { name: "メールアドレス", type: "email" },
      { name: "電話番号", type: "phone" },
      { name: "年齢", type: "age" }
    ]
  },
  {
    name: "商品価格表",
    columns: [
      { name: "商品名", type: "text" },
      { name: "価格", type: "number", min: 100, max: 100000 },
      { name: "登録日", type: "date" }
    ]
  }
]
```

## 🎛️ 詳細設定オプション

### 数値型設定
- **最小値**: 生成する数値の下限
- **最大値**: 生成する数値の上限
- **小数点**: 整数/小数点以下の桁数指定

### テキスト型設定
- **言語**: 日本語/英語の選択
- **長さ**: 文字数の範囲指定
- **文字種**: ひらがな/カタカナ/漢字/英数字

### 日付型設定
- **開始日**: 生成する日付の開始範囲
- **終了日**: 生成する日付の終了範囲
- **フォーマット**: YYYY-MM-DD/YYYY/MM/DD等

## 📋 データ生成・エクスポート

### 1. プレビュー機能
- リアルタイムでサンプルデータを表示
- 設定変更時に即座に更新
- 最大10行のプレビュー表示

### 2. 生成件数の設定
```typescript
// 推奨生成件数
- 小規模テスト: 10-100件
- 中規模テスト: 100-1,000件  
- 大規模テスト: 1,000-10,000件
- パフォーマンステスト: 10,000件以上
```

### 3. エクスポートオプション
- **CSV形式**: UTF-8 BOM付きで文字化け防止
- **ダウンロード**: ファイルとして保存
- **クリップボード**: テーブル形式でコピー

## 🔧 高度な機能

### テンプレート機能
```typescript
// カスタムテンプレートの作成
1. 列設定を完成させる
2. 「テンプレートとして保存」を選択
3. テンプレート名を入力
4. 後で「テンプレート読み込み」で再利用
```

### バッチ処理
```typescript
// 複数パターンの一括生成
1. 複数のテンプレートを選択
2. それぞれの生成件数を指定
3. 「一括生成」で複数CSVを作成
```

### インポート機能
```typescript
// 既存CSVから設定を推測
1. 「CSVインポート」を選択
2. 既存のCSVファイルをアップロード
3. 自動でデータ型を推測・設定
4. 必要に応じて設定を調整
```

## ⚠️ 注意事項・制限事項

### データ生成制限
- **最大列数**: 50列まで
- **最大生成件数**: 100,000件まで
- **ファイルサイズ**: 100MB以下を推奨

### セキュリティ
- 生成されたデータは24時間後に自動削除
- 実際の個人情報は使用されません
- すべて架空のテストデータです

### パフォーマンス
```typescript
// 生成時間の目安
- 1,000件: 約1-2秒
- 10,000件: 約5-10秒
- 100,000件: 約30-60秒
```

## 🚨 トラブルシューティング

### よくある問題

#### 1. 文字化けが発生する
```typescript
解決方法:
- Excel: データ → テキストファイル → UTF-8を選択
- Googleスプレッドシート: 自動で正しく表示されます
- CSV対応エディタ: UTF-8 BOM対応エディタを使用
```

#### 2. 生成に時間がかかる
```typescript
対処法:
- 生成件数を減らす（10,000件以下）
- 列数を削減する（20列以下）
- ブラウザのタブを他に開きすぎない
```

#### 3. メモリエラーが発生する
```typescript
対処法:
- ブラウザを再起動
- 他のタブを閉じる
- 件数を5,000件以下に制限
```

### エラーメッセージ一覧

| エラー | 原因 | 解決方法 |
|--------|------|----------|
| "列名が重複しています" | 同じ列名が複数ある | 列名をユニークに変更 |
| "数値範囲が不正です" | 最小値>最大値 | 範囲を正しく設定 |
| "生成件数が制限を超えています" | 100,000件を超過 | 件数を制限内に調整 |
| "メモリ不足です" | データサイズ過大 | 件数・列数を削減 |

## 💡 効率的な使い方のコツ

### 1. プリセットの活用
```typescript
// よく使うパターンは事前定義済み
- 社員データ
- 顧客情報
- 商品情報
- 売上データ
- アンケート回答
```

### 2. 段階的なデータ作成
```typescript
// 大量データの生成手順
1. 小さなサンプル（100件）で設定確認
2. 中規模（1,000件）でテスト実行
3. 本格規模（10,000件以上）で本番テスト
```

### 3. データの組み合わせ
```typescript
// リアルなテストシナリオ
- 正常データ: 90%
- 境界値データ: 8%
- 異常データ: 2%
```

## 🤖 TDからのアドバイス

### 初心者向け
```
「まずはプリセットから始めて、
 慣れてきたらカスタム設定に挑戦しましょう！
 TDがサポートします♪」
```

### 上級者向け
```
「複雑な業務要件も、
 列の組み合わせで柔軟に対応できます。
 TDと一緒に最適なデータを作りましょう！」
```

### トラブル時
```
「困ったときは遠慮なくTDに相談してください。
 必ず解決策を見つけます！」
```

## 📞 サポート・フィードバック

- **機能要望**: GitHub Issues
- **バグ報告**: GitHub Issues
- **使い方質問**: ドキュメント内のFAQ
- **緊急時**: プロジェクト管理者まで

---

**TDからの最終メッセージ**: 
「このガイドを参考に、素晴らしいテストデータを作成してください！TDがいつでもサポートします🎉」 