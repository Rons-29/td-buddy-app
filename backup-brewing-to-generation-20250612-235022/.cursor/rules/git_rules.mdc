---
description: 
globs: 
alwaysApply: true
---
# ğŸŒ¿ Gitæ“ä½œãƒ«ãƒ¼ãƒ«
# TestData Buddy (TD) ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®Gité‹ç”¨ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

## ğŸŒ± ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥

### ãƒ–ãƒ©ãƒ³ãƒæ§‹æˆ
- **main**: æœ¬ç•ªç”¨ãƒ–ãƒ©ãƒ³ãƒï¼ˆç›´æ¥pushã¯ç¦æ­¢ï¼‰
- **develop**: é–‹ç™ºç”¨ãƒ–ãƒ©ãƒ³ãƒ
- **feature/**: æ–°æ©Ÿèƒ½é–‹ç™ºç”¨
- **hotfix/**: ç·Šæ€¥ä¿®æ­£ç”¨
- **release/**: ãƒªãƒªãƒ¼ã‚¹æº–å‚™ç”¨

### ãƒ–ãƒ©ãƒ³ãƒå‘½åè¦å‰‡
```bash
# æ©Ÿèƒ½é–‹ç™º
feature/TD-123-password-generation
feature/TD-124-csv-export
feature/TD-125-ai-integration

# ãƒã‚°ä¿®æ­£ãƒ»ãƒ›ãƒƒãƒˆãƒ•ã‚£ãƒƒã‚¯ã‚¹
hotfix/TD-456-security-fix
hotfix/TD-457-memory-leak

# ãƒªãƒªãƒ¼ã‚¹æº–å‚™
release/v1.2.0
release/v1.3.0-beta
```

## ğŸ“ ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦ç´„

### åŸºæœ¬ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
```
<type>: <subject>

<body>

<footer>
```

### ã‚¿ã‚¤ãƒ—ä¸€è¦§
- **feat**: æ–°æ©Ÿèƒ½è¿½åŠ 
- **fix**: ãƒã‚°ä¿®æ­£
- **docs**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
- **style**: ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¿®æ­£
- **refactor**: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- **test**: ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£
- **chore**: ãƒ“ãƒ«ãƒ‰å‡¦ç†ãƒ»è£œåŠ©ãƒ„ãƒ¼ãƒ«ä¿®æ­£

### ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¾‹
```bash
feat: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”ŸæˆAPIã‚’è¿½åŠ 

- è‹±æ•°å­—ãƒ»è¨˜å·ã®çµ„ã¿åˆã‚ã›ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆæ©Ÿèƒ½
- é•·ã•ãƒ»æ–‡å­—ç¨®ã®è©³ç´°è¨­å®šå¯¾å¿œ
- ãƒ¬ãƒ¼ãƒˆåˆ¶é™æ©Ÿèƒ½ã‚’å®Ÿè£…

Closes TD-123

fix: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã‚’ä¿®æ­£

- XSSæ”»æ’ƒã®å¯èƒ½æ€§ãŒã‚ã£ãŸå…¥åŠ›å€¤æ¤œè¨¼ã‚’å¼·åŒ–
- CSRFãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¿½åŠ 

Security: CVE-2024-XXXX

docs: READMEã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ã‚’æ›´æ–°

- Node.jsæœ€å°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’18.0.0ã«å¤‰æ›´
- ç’°å¢ƒå¤‰æ•°è¨­å®šä¾‹ã‚’è¿½åŠ 
- TDãã‚“ã®ã‚¢ã‚¹ã‚­ãƒ¼ã‚¢ãƒ¼ãƒˆã‚’æ›´æ–°

test: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆæ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 

- å„æ–‡å­—ç¨®ã§ã®ç”Ÿæˆãƒ†ã‚¹ãƒˆ
- å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆï¼ˆæœ€å°ãƒ»æœ€å¤§é•·ï¼‰
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ

refactor: ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ã‚’ãƒªãƒ•ã‚¡ã‚¯ã‚¿

- å…±é€šå‡¦ç†ã‚’utilé–¢æ•°ã«æŠ½å‡º
- å‹å®‰å…¨æ€§ã‚’å‘ä¸Š
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’15%æ”¹å–„

style: ESLintãƒ«ãƒ¼ãƒ«é©ç”¨ã«ã‚ˆã‚‹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¿®æ­£

chore: pnpmãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’8.10.0ã«æ›´æ–°
```

## âœ… Gitæ“ä½œå‰ã®ç¢ºèªäº‹é …

### 1. ã‚³ãƒŸãƒƒãƒˆå‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
```bash
# 1. ã‚³ãƒ¼ãƒ‰å“è³ªç¢ºèª
pnpm run lint

# 2. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pnpm run test

# 3. å‹ãƒã‚§ãƒƒã‚¯
pnpm run type-check

# 4. æ©Ÿå¯†æƒ…å ±ãƒã‚§ãƒƒã‚¯
git diff --cached | grep -E "(password|secret|key|token)" && echo "âš ï¸  æ©Ÿå¯†æƒ…å ±ãŒå«ã¾ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™"
```

**TDã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**: ã€Œã‚³ãƒŸãƒƒãƒˆå‰ã®ãƒã‚§ãƒƒã‚¯ã€å®Œäº†ã—ã¾ã—ãŸï¼å®‰å…¨ç¢ºèªã‚‚OKã§ã™â™ªã€

### 2. ãƒ—ãƒƒã‚·ãƒ¥å‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¦ç´„ã«å¾“ã£ã¦ã„ã‚‹
- [ ] æ„å›³ã—ãªã„ãƒ•ã‚¡ã‚¤ãƒ«ãŒå«ã¾ã‚Œã¦ã„ãªã„
- [ ] å¤§ããªãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ>100MBï¼‰ãŒå«ã¾ã‚Œã¦ã„ãªã„
- [ ] æ©Ÿå¯†æƒ…å ±ï¼ˆAPIã‚­ãƒ¼ç­‰ï¼‰ãŒå«ã¾ã‚Œã¦ã„ãªã„

**TDã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**: ã€Œå®‰å…¨ç¢ºèªå®Œäº†ï¼ãƒ—ãƒƒã‚·ãƒ¥ã—ã¦ã‚‚å¤§ä¸ˆå¤«ã§ã™ğŸš€ã€

### 3. ãƒãƒ¼ã‚¸å‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒæˆåŠŸã—ã¦ã„ã‚‹
- [ ] ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒå®Œäº†ã—ã¦ã„ã‚‹
- [ ] ç«¶åˆãŒè§£æ±ºã•ã‚Œã¦ã„ã‚‹
- [ ] ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ãŒä½ä¸‹ã—ã¦ã„ãªã„

**TDã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**: ã€Œå“è³ªãƒã‚§ãƒƒã‚¯å®Œäº†ï¼ãƒãƒ¼ã‚¸ã®æº–å‚™ãŒã§ãã¾ã—ãŸâœ¨ã€

## âš ï¸ å±é™ºãªæ“ä½œã®é˜²æ­¢

### ç¦æ­¢ãƒ»åˆ¶é™äº‹é …
```bash
# âŒ çµ¶å¯¾ç¦æ­¢
git push --force origin main          # mainãƒ–ãƒ©ãƒ³ãƒã¸ã®force push
git reset --hard HEAD~5               # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãªã—ã§ã®hard reset

# âš ï¸ æ³¨æ„ãŒå¿…è¦
git push --force origin feature/xxx   # ä»£ã‚ã‚Šã« --force-with-lease ã‚’ä½¿ç”¨
git rebase -i HEAD~10                 # å…±æœ‰ãƒ–ãƒ©ãƒ³ãƒã§ã¯é¿ã‘ã‚‹
git commit --amend                     # æ—¢ã«pushã—ãŸã‚³ãƒŸãƒƒãƒˆã¯é¿ã‘ã‚‹
```

### å®‰å…¨ãªä»£æ›¿æ“ä½œ
```bash
# âœ… å®‰å…¨ãªæ–¹æ³•
git push --force-with-lease origin feature/xxx
git revert <commit-hash>               # ã‚³ãƒŸãƒƒãƒˆã‚’å®‰å…¨ã«å–ã‚Šæ¶ˆã—
git commit --fixup <commit-hash>       # ä¿®æ­£ã‚³ãƒŸãƒƒãƒˆã‚’ä½œæˆ
```

## ğŸ”„ Git ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### 1. æ–°æ©Ÿèƒ½é–‹ç™ºãƒ•ãƒ­ãƒ¼
```bash
# 1. æœ€æ–°ã®developãƒ–ãƒ©ãƒ³ãƒã‚’å–å¾—
git checkout develop
git pull origin develop

# 2. æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
git checkout -b feature/TD-123-password-generation

# 3. é–‹ç™ºãƒ»ã‚³ãƒŸãƒƒãƒˆ
git add .
git commit -m "feat: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆæ©Ÿèƒ½ã®åŸºæœ¬å®Ÿè£…"

# 4. å®šæœŸçš„ã«developã¨åŒæœŸ
git fetch origin develop
git rebase origin/develop

# 5. ãƒ—ãƒƒã‚·ãƒ¥
git push origin feature/TD-123-password-generation

# 6. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ
# GitHub/GitLabã§PRä½œæˆ

# 7. ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾Œãƒãƒ¼ã‚¸
# Squash and mergeã‚’æ¨å¥¨
```

### 2. ãƒ›ãƒƒãƒˆãƒ•ã‚£ãƒƒã‚¯ã‚¹ãƒ•ãƒ­ãƒ¼
```bash
# 1. mainãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ç·Šæ€¥ä¿®æ­£ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
git checkout main
git pull origin main
git checkout -b hotfix/TD-456-security-fix

# 2. ä¿®æ­£ãƒ»ãƒ†ã‚¹ãƒˆ
git add .
git commit -m "fix: ç·Šæ€¥ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¿®æ­£"

# 3. mainã¨developã®ä¸¡æ–¹ã«ãƒãƒ¼ã‚¸
# PRä½œæˆ â†’ main
# PRä½œæˆ â†’ develop
```

## ğŸ·ï¸ ã‚¿ã‚°ç®¡ç†

### ãƒªãƒªãƒ¼ã‚¹ã‚¿ã‚°
```bash
# ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°
git tag -a v1.2.0 -m "Release v1.2.0: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆæ©Ÿèƒ½è¿½åŠ "
git push origin v1.2.0

# ãƒ—ãƒ¬ãƒªãƒªãƒ¼ã‚¹
git tag -a v1.3.0-beta.1 -m "Beta release v1.3.0-beta.1"
git push origin v1.3.0-beta.1
```

### ã‚¿ã‚°å‘½åè¦å‰‡
- **å®‰å®šç‰ˆ**: `v1.2.0`, `v2.0.0`
- **ãƒ™ãƒ¼ã‚¿ç‰ˆ**: `v1.3.0-beta.1`, `v1.3.0-beta.2`
- **ãƒªãƒªãƒ¼ã‚¹å€™è£œ**: `v1.3.0-rc.1`, `v1.3.0-rc.2`

## ğŸ› ï¸ ä¾¿åˆ©ãªGitã‚¨ã‚¤ãƒªã‚¢ã‚¹

### .gitconfigè¨­å®šä¾‹
```bash
[alias]
    # åŸºæœ¬æ“ä½œ
    co = checkout
    br = branch
    ci = commit
    st = status
    
    # TDå°‚ç”¨ã‚¨ã‚¤ãƒªã‚¢ã‚¹
    td-new = !git checkout develop && git pull origin develop && git checkout -b
    td-sync = !git fetch origin develop && git rebase origin/develop
    td-clean = !git branch --merged | grep -v "\\*\\|main\\|develop" | xargs -n 1 git branch -d
    
    # ãƒ­ã‚°è¡¨ç¤º
    lg = log --oneline --graph --decorate --all
    td-log = log --oneline --graph --decorate --color --format='%C(yellow)%h%C(reset) %C(blue)%an%C(reset) %C(green)%cr%C(reset) %s'
    
    # çŠ¶æ…‹ç¢ºèª
    td-status = !echo "ğŸ¤– TDãã‚“ã®çŠ¶æ…‹ç¢ºèªã§ã™ï¼" && git status --short
    td-diff = diff --color-words
```

## ğŸš¨ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### 1. ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ±º
```bash
# ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆç™ºç”Ÿæ™‚
git status                    # ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
# ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰‹å‹•ç·¨é›†
git add <resolved-files>
git commit -m "fix: ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ±º"
```

**TDã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**: ã€Œã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ±ºã€ãŠç–²ã‚Œã•ã¾ã§ã—ãŸï¼ä¸å¯§ã«ç¢ºèªã—ã¦ã„ãŸã ãã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™â™ªã€

#### 2. é–“é•ã£ãŸã‚³ãƒŸãƒƒãƒˆ
```bash
# ç›´å‰ã®ã‚³ãƒŸãƒƒãƒˆã‚’ä¿®æ­£
git commit --amend -m "æ­£ã—ã„ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"

# ã‚³ãƒŸãƒƒãƒˆã‚’å–ã‚Šæ¶ˆã—ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ã¯æ®‹ã™ï¼‰
git reset --soft HEAD~1

# ã‚³ãƒŸãƒƒãƒˆã‚’å®Œå…¨ã«å–ã‚Šæ¶ˆã—
git reset --hard HEAD~1  # âš ï¸ æ³¨æ„ï¼å¤‰æ›´ãŒå¤±ã‚ã‚Œã¾ã™
```

#### 3. é–“é•ã£ãŸãƒ–ãƒ©ãƒ³ãƒã§ã®ä½œæ¥­
```bash
# ä½œæ¥­å†…å®¹ã‚’ä¿å­˜
git stash

# æ­£ã—ã„ãƒ–ãƒ©ãƒ³ãƒã«ç§»å‹•
git checkout correct-branch

# ä½œæ¥­å†…å®¹ã‚’å¾©å…ƒ
git stash pop
```

**TDã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**: ã€Œé–“é•ã„ã¯èª°ã«ã§ã‚‚ã‚ã‚Šã¾ã™ï¼TDãŒä¸€ç·’ã«è§£æ±ºã—ã¾ã—ã‚‡ã†ğŸ˜Šã€

---

**TDã‹ã‚‰ã®å¿œæ´ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**: ã€ŒGitã®æ“ä½œã‚‚æ…£ã‚Œã‚Œã°å¤§ä¸ˆå¤«ï¼å›°ã£ãŸã¨ãã¯TDãŒã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚å®‰å…¨ç¬¬ä¸€ã§ã€ä¸€ç·’ã«ç´ æ™´ã‚‰ã—ã„ã‚³ãƒ¼ãƒ‰ã‚’ç®¡ç†ã—ã¾ã—ã‚‡ã†ğŸŒ¿ã€
